from subprocess import call
from time import sleep
import random
import os

#to get the current working directory
dir = os.getcwd()
path1 = dir +  "/img1.png"
path2 = dir +  "/img2.png"

img1 = str('tell application "Finder" to set desktop picture to POSIX file ' + '"' + path2 + '"')
img2 = str('tell application "Finder" to set desktop picture to POSIX file ' + '"' + path1 + '"')


args = []
args.append('osascript')
args.append('-e')
while True:
    args.append(img1)
    call(args, shell=False)
    r = random.randint(30, 600)
    sleep(r)
    args.pop(2)
    args.append(img2)
    call(args, shell=False)
    sleep(1)
    args.pop(2)
