import subprocess
from subprocess import call
import multiprocessing
import time
import random

ITTER = 1

audio_file = "apple-sound1.wav"
random.seed(time.time())

#
# This function constantly sets the machines colume to 100% and unmutes if muted
#
def volume_control():
    while 1:
        call(["osascript -e 'set volume output volume 30'"], shell=True)
        call(["osascript -e 'set volume without output muted'"], shell=True)


if __name__=='__main__':

    while 1:
        r = random.randint(120, 14400) # change to 43,200 (12hrs)
        proc = multiprocessing.Process(target=volume_control, args=())
        proc.start()
        return_code = subprocess.call(["afplay", audio_file])
        proc.terminate()
        #r = random.randint(120, 1800) # change to 43,200 (12hrs)
        if ITTER == 1:
            audio_file = "apple-sound1.wav"
            ITTER += 1
        time.sleep(r)
